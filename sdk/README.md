# StorageHub TypeScript SDK

> Early scaffold – subject to change as development continues.

---

## Prerequisites

1. **Node.js** ≥ 18 (recommended 20+)
2. **pnpm** ≥ 8 – install via `npm i -g pnpm`
3. **Rust toolchain** – install from <https://rustup.rs>
4. **WASM toolchain** (one-time):
   ```bash
   rustup target add wasm32-unknown-unknown
   cargo install wasm-pack
   ```

---

## Install dependencies

```bash
cd sdk
# builds the Rust helper crate on first run, then installs JS deps
pnpm install  # or: pnpm install --filter .
```

> If the `pkg/` folder for the WASM helper is missing, `pnpm install` will automatically invoke `wasm-pack` via the `preinstall` script.

---

## Build the SDK

```bash
# inside sdk/
pnpm run build   # generates ./dist with ESM bundle & types
```

Watch mode during development:
```bash
pnpm run dev
```

---

## Run tests

```bash
pnpm test     # Vitest unit tests (Node environment)
```

---

## Publish (internal)

```bash
pnpm publish --access public
```

Make sure CI passes and `pnpm size` stays below the configured limit before publishing.

---

## Folder structure

```
sdk/
  ts/          – TypeScript source
  wasm/        – Rust crate compiled to WASM
  dist/        – Build output (generated)
  pkg/         – JS glue for WASM (generated by wasm-pack)
```

---

## Troubleshooting

* **Engine warnings** – Other monorepo packages may specify a stricter Node version. Ignore when working only in `sdk/`. 