# Fisherman configuration
[fisherman]
# Postgres database URL for the fisherman service.
# This corresponds to the `--fisherman-database-url` CLI flag.
fisherman_database_url = "postgresql://postgres:postgres@localhost:5432/fisherman_db"

# Duration between batch deletion processing cycles (in seconds).
# This corresponds to the `--fisherman-batch-interval-seconds` CLI flag.
batch_interval_seconds = 30

# Cooldown between batch deletion attempts (in seconds).
# This corresponds to the `--fisherman-batch-cooldown-seconds` CLI flag.
# Set to `0` to disable cooldown.
batch_cooldown_seconds = 1

# Number of consecutive no-work batches required before switching to the slower idle polling interval.
# This corresponds to the `--fisherman-consecutive-no-work-batches-threshold` CLI flag.
# The minimum value is 2 because there are two kinds of work: User and Incomplete.
# If we set the value to 1, a non-work batch in one kind of work will trigger the idle poll interval
# on the other kind of work.
consecutive_no_work_batches_threshold = 4

# Maximum number of files to process per batch deletion cycle.
# This corresponds to the `--fisherman-batch-deletion-limit` CLI flag.
batch_deletion_limit = 1000

# Ordering strategy for pending deletions.
# Options: "chronological" (default, FIFO - oldest first), "randomized" (reduces collision with other fisherman nodes).
# This corresponds to the `--fisherman-ordering` CLI flag.
ordering = "chronological"

# Filtering strategy for pending deletions.
# This corresponds to the `--fisherman-filtering` CLI flag.
#
# Options:
# - No filtering (default):
#   [fisherman.filtering]
#   type = "none"
#
# - TTL-based filtering (skip files pending longer than threshold):
#   [fisherman.filtering]
#   type = "ttl"
#   threshold_seconds = 3600
[fisherman.filtering]
type = "none"

# Configuration for the Blockchain Service
[fisherman.blockchain_service]
# Mortality period for extrinsics in number of blocks (default: 256, ~25 min at 6s blocks).
# Determines how long a submitted transaction remains valid before expiring.
# Lower values help recover faster from stuck nonces after block reorgs.
# Should be a power of 2 between 4 and `BlockHashCount` (4096). Non-power-of-2 values
# will be rounded to the nearest valid power of 2 at startup.
# This corresponds to the `--fisherman-extrinsic-mortality` CLI flag.
extrinsic_mortality = 256
